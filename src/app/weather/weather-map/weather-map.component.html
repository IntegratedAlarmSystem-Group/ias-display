<div>

  <svg [attr.viewBox]="viewbox" class="ws-map">

    <!--  Route paths -->
    <g class="paths">
      <path *ngFor="let path of svgPaths"
        [attr.d]="path"
        stroke="#636b74"
        stroke-width="3"
        fill="none"
      />
    </g>

    <!--  Background layer with all the pads -->
    <g class="pads">
      <circle *ngFor="let p of pads"
        [attr.cx]="p.opt_cx"
        [attr.cy]="p.opt_cy"
        [attr.data]="p.name"
        r="5"
        stroke="#636b74"
        stroke-width="3"
        fill="#212d3a"
      />
    </g>

    <!--  Pads by antenna group -->

    <g *ngFor="let group of antennaGroups" >

      <g class="pad-groups" [ngClass]="{'selected': isSelected(antennaGroup2placemarker[group])}" >
        <circle *ngFor="let p of antennaGroupsPads[group]"
          [attr.cx]="p.opt_cx"
          [attr.cy]="p.opt_cy"
          [attr.data]="p.name"
          r="5"
          stroke="#636b74"
          stroke-width="3"
          fill="#212d3a"
        />
      </g>

    </g>

    <!--  Weather stations -->

    <!--  Weather stations:  primary group -->
    <g class="ws-primary-group" *ngFor="let p of primary_wstations" (click)="onClick(p)">
      <path class="ws-connector"
        [attr.d]="getSVGVirtualConnectorPath(p, 125, -50)"
        stroke="#39505f"
        stroke-width="3"
        fill="none"
      />
      <foreignObject [attr.x]="p.opt_cx-25" [attr.y]="p.opt_cy-25" width="100" height="50">
        <xhtml:app-weather-marker-map [placemark]="p.name"></xhtml:app-weather-marker-map>
      </foreignObject>
      <foreignObject class="fobject" [attr.x]="(p.opt_cx-50) + 125" [attr.y]="(p.opt_cy-50) - 25" width="200" height="100">
        <xhtml:app-weather-data-map [placemark]="p.name"></xhtml:app-weather-data-map>
      </foreignObject>
    </g>

    <!--  Weather stations:  backup group -->
    <g class="ws-backup-group" *ngFor="let p of backup_wstations">
      <!-- <foreignObject [attr.x]="p.opt_cx-25" [attr.y]="p.opt_cy-25" width="50" height="50">
        <xhtml:app-weather-marker-map></xhtml:app-weather-marker-map>
      </foreignObject> -->
    </g>

  </svg>

</div>
